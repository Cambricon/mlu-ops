.. _软件包发布信息:

软件包发布信息
===================================

软件包命名格式
-----------------------------------

- .deb： ``cnnl[-<mlu>][-static]_<major>.<minor>.<patch>-<build>.<distro><id>_<arch>.deb``

- .rpm： ``cnnl[-<mlu>][-static]-<major>.<minor>.<patch>-<build>.<distro><id>.<arch>.rpm``

- .run： ``cnnl[-<mlu>]<distro_suffix>.run``

相关字段含义：

- [-<mlu>]：用于aarch64下的端侧软件包，描述支持的特定MLU架构。<mlu>包括mlu220、ce3226。

- [-static]：可选，描述是否是静态库打包。

- <major>.<minor>.<patch>：软件版本号，三个字段分别描述主版本号、次版本号、修订版本号。

- <build>：构建版本，一般为1。

- <distro><id>：发行版以及版本号，如debian9、ubuntu18.04，详见下文的表格 `x86_64软件包`_ 与 `aarch64软件包`_ 。

- <arch>：CPU架构，CentOS（RPM包管理）下为x86_64或aarch64；Debian、Ubuntu （DEB包管理）下为amd64或arm64。

- <distro_suffix>：RUN文件。名根据所在发行版，保持和对应DEB或RPM包相同的文件后缀名。


示例：

- x86_64架构的CentOS 7下，Cambricon CNNL的包为 ``cnnl-1.5.0-1.el7.x86_64.rpm`` 。

- aarch64架构的Ubuntu 16.04下，Cambricon CNNL支持所有端侧架构，只打包静态库的DEB为 ``cnnl-static_1.5.0-1.ubuntu16.04_arm64.deb`` 。

- aarch64架构的CentOS 7下，Cambricon CNNL仅用于CE3226架构的静态库软件包为 ``cnnl-ce3226-static-1.5.0-1.el7.aarch64.rpm`` 。


面向x86_64架构
-------------------------------

支持MLU220 M.2、MLU270、MLU290、MLU370。


.. _x86_64软件包:

.. tabularcolumns:: |m{0.15\textwidth}|m{0.3\textwidth}|m{0.15\textwidth}|m{0.3\textwidth}|

.. table:: x86_64软件包

  +----------------------------+-------------------------------+--------------+----------------------------------------------------------+
  | 软件包                     | 主要文件内容                  | 发行版       | 文件名                                                   |
  +============================+===============================+==============+==========================================================+
  | cnnl                       | - 头文件cnnl.h                | CentOS 7     | cnnl-x.y.z-1.el7.x86_64.rpm                              |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            | - 符号链接libcnnl.so          | CentOS 8     | cnnl-x.y.z-1.el8.x86_64.rpm                              |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            | - 符号链接libcnnl.so.x        | Ubuntu 16.04 | cnnl_x.y.z-1.ubuntu16.04_amd64.deb                       |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            | - 动态链接库libcnnl.so.x.y.z  | Ubuntu 18.04 | cnnl_x.y.z-1.ubuntu18.04_amd64.deb                       |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            | - 样例程序                    | Ubuntu 20.04 | cnnl_x.y.z-1.ubuntu20.04_amd64.deb                       |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            |                               | Debian 9     | cnnl_x.y.z-1.debian9_amd64.deb                           |
  +----------------------------+-------------------------------+--------------+----------------------------------------------------------+
  | cnnl-static                | - 静态链接库libcnnl.a         | CentOS 7     | cnnl-static-x.y.z-1.el7.x86_64.rpm                       |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            |                               | CentOS 8     | cnnl-static-x.y.z-1.el8.x86_64.rpm                       |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            |                               | Ubuntu 16.04 | cnnl-static_x.y.z-1.ubuntu16.04_amd64.deb                |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            |                               | Ubuntu 18.04 | cnnl-static_x.y.z-1.ubuntu18.04_amd64.deb                |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            |                               | Ubuntu 20.04 | cnnl-static_x.y.z-1.ubuntu20.04_amd64.deb                |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            |                               | Debian 9     | cnnl-static_x.y.z-1.debian9_amd64.deb                    |
  +----------------------------+-------------------------------+--------------+----------------------------------------------------------+



面向aarch64架构
--------------------------

支持MLU220 EDGE、CE3226、MLU370。

提供.run脚本文件，运行后直接解压所有内容，不依赖系统包管理工具。

表格中 ``<mlu>`` 有以下几种值：

- ``mlu220`` ： 表示支持MLU220 EDGE。

- ``ce3226`` ： 表示支持CE3226。


.. _aarch64软件包:

.. tabularcolumns:: |m{0.15\textwidth}|m{0.3\textwidth}|m{0.15\textwidth}|m{0.3\textwidth}|

.. table:: aarch64软件包

  +----------------------------+-------------------------------+--------------+----------------------------------------------------------+
  | 软件包                     | 主要文件内容                  | 发行版       | 文件名                                                   |
  +============================+===============================+==============+==========================================================+
  | cnnl[-<mlu>]               | - 头文件cnnl.h                | CentOS 7     | cnnl-<mlu>-x.y.z-1.el7.aarch64.rpm                       |
  |                            |                               |              +----------------------------------------------------------+
  |                            | - 符号链接libcnnl.so          |              | cnnl-<mlu>-x.y.z-1.el7.aarch64.run                       |
  |                            |                               |              |                                                          |
  |                            | - 符号链接libcnnl.so.x        +--------------+----------------------------------------------------------+
  |                            |                               | Ubuntu 16.04 | cnnl-<mlu>_x.y.z-1.ubuntu16.04_arm64.deb                 |
  |                            | - 动态链接库libcnnl.so.x.y.z  |              +----------------------------------------------------------+
  |                            |                               |              | cnnl-<mlu>_x.y.z-1.ubuntu16.04_arm64.run                 |
  |                            | - 样例程序                    |              |                                                          |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            |                               | Kylin V10    | cnnl-x.y.z-1.ky10.aarch64.rpm                            |
  |                            |                               |              +----------------------------------------------------------+
  |                            |                               |              | cnnl-x.y.z-1.ky10.aarch64.run                            |
  |                            |                               |              |                                                          |
  +----------------------------+-------------------------------+--------------+----------------------------------------------------------+
  | cnnl[-<mlu>]-static        | - 静态链接库libcnnl.a         | CentOS 7     | cnnl-<mlu>-static-x.y.z-1.el7.aarch64.rpm                |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            |                               | Ubuntu 16.04 | cnnl-<mlu>-static_x.y.z-1.ubuntu16.04_arm64.deb          |
  |                            |                               +--------------+----------------------------------------------------------+
  |                            |                               | Kylin V10    | cnnl-static_x.y.z-1.ky10.aarch64.rpm                     |
  +----------------------------+-------------------------------+--------------+----------------------------------------------------------+


